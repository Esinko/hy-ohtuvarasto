{% extends "base.html" %}

{% block title %}Add Item - Warehouse Manager{% endblock %}

{% block content %}
<h2>Add Item to Warehouse</h2>

{% if warehouses %}
<form method="post">
    <div class="form-group">
        <label for="warehouse_id">Select Warehouse</label>
        <select id="warehouse_id" name="warehouse_id" required>
            <option value="">-- Select a warehouse --</option>
            {% for id, warehouse in warehouses.items() %}
                <option value="{{ id }}">{{ warehouse.name }} ({{ "%.1f"|format(warehouse.get_space_left_percent()) }}% space left)</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="item_name">Item Name</label>
        <input type="text" id="item_name" name="item_name" required>
    </div>

    <div class="form-group">
        <label for="quantity">Quantity</label>
        <input type="number" id="quantity" name="quantity" step="0.1" min="0.1" required>
    </div>

    <button type="submit">Add Item</button>
    <a href="{{ url_for('index') }}" class="btn">Cancel</a>
</form>
{% else %}
<div class="empty-state">
    <p>No warehouses available. Create a warehouse first.</p>
    <p><a href="{{ url_for('create_warehouse') }}" class="btn">Create a warehouse</a></p>
</div>
{% endif %}
{% endblock %}
